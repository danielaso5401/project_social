
<div class="card m-5">
      <div class="card-title"  style="background-color: #770a02;">
          <h3 class="m-2" style="color: white;">(M) Usuarios</h3>
      </div>
      <div class="card-body">
          <div class="row">
              <kendo-grid 
              [data]="gridDataUsuarios"  
              [loading]="chargeGrid"
              id="my-grid" >
                  <ng-template kendoGridToolbarTemplate>
                    <button class="btn btn-success" kendoGridAddCommand (click)="open(mymodal, 'new')">
                      <span class="k-icon k-i-plus"></span>
                      Nuevo
                    </button>
                  </ng-template>
                  <kendo-grid-column field="Id" title="ID" [width]="40"[hidden]="true"> </kendo-grid-column>
                  <kendo-grid-column field="Nombre" title="Nombre"></kendo-grid-column>
                  <kendo-grid-column field="ApellidoPaterno" title="Apellidos">
                    <ng-template kendoGridCellTemplate let-dataItem>
                      {{dataItem.ApellidoPaterno}} {{dataItem.ApellidoMaterno}}
                    </ng-template>
                  </kendo-grid-column>
                  <kendo-grid-column field="DocumentoIdentidad" title="DNI"></kendo-grid-column>
                  <kendo-grid-column field="FechaNacimiento" title="Fecha Nacimiento">
                    <ng-template kendoGridCellTemplate let-dataItem>
                      {{dataItem.FechaNacimiento | date:'dd/MM/yyyy'}}
                    </ng-template>
                  </kendo-grid-column>
                  <kendo-grid-column field="Celular" title="Celular">
                  </kendo-grid-column>
                  <kendo-grid-column field="Direccion" title="Direccion">
                  </kendo-grid-column>
                  <kendo-grid-column field="rol.nombre" title="Rol">
                  </kendo-grid-column>
                  <kendo-grid-column title="Opciones" [width]="140">
                    <ng-template kendoGridCellTemplate let-isNew="isNew" let-dataItem>
                      <button class="btn btn-warning m-1" (click)="open(mymodal, dataItem)">
                        <span class="k-icon k-i-edit"></span>
                      </button>
                      <button class="btn btn-danger m-1" (click)="eliminar_elemento(dataItem)">
                        <span class="k-icon k-i-delete"></span>
                      </button>
                    </ng-template>
                  </kendo-grid-column>
              </kendo-grid>
          </div>
      </div>
</div>

<ng-template #mymodal let-modal>
  <div class="modal-header text-white" style="background-color: #770a02;">
    <h4 class="modal-title" id="modal-basic-title">Crear Nuevo Usuario</h4>
  </div>
  <div class="modal-body">
    <form [formGroup]="form">
      <div class="form">
        <div class="form-group row m-2">
          <label for="Nombre" class="col-sm-5 col-form-label">Nombres:</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" id="Nombre" formControlName="Nombre" placeholder="Nombres Completos">
          </div>
        </div>
        <div class="form-group row m-2">
          <label for="ApellidoPaterno" class="col-sm-5 col-form-label">Apellido Paterno:</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" id="ApellidoPaterno" formControlName="ApellidoPaterno" placeholder="Apellidos Completos">
          </div>
        </div>
        <div class="form-group row m-2">
          <label for="ApellidoMaterno" class="col-sm-5 col-form-label">Apellido Materno:</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" id="ApellidoMaterno" formControlName="ApellidoMaterno" placeholder="Apellidos Completos">
          </div>
        </div>
        <div class="form-group row m-2">
          <label for="DocumentoIdentidad" class="col-sm-5 col-form-label">Documento de identidad:</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" id="documentoIdentidad" formControlName="DocumentoIdentidad" placeholder="Documento de Identidad">
          </div>
        </div>
        <div class="form-group row m-2">
          <label for="FechaNacimiento" class="col-sm-5 col-form-label">Fecha Nacimiento:</label>
          <div class="col-sm-6">
            <input type="date" class="form-control" id="fechaNacimiento" formControlName="FechaNacimiento">
          </div>
        </div>
        <div class="form-group row m-2">
          <label for="Direccion" class="col-sm-5 col-form-label">Drirección:</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" id="Direccion" formControlName="Direccion" placeholder="Direccion">
          </div>
        </div>
        <div class="form-group row m-2">
          <label for="Celular" class="col-sm-5 col-form-label">Celular:</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" id="Direccion" formControlName="Celular" placeholder="Celular">
          </div>
        </div>
        <div class="form-group row m-2">
          <label for="Contrasena" class="col-sm-5 col-form-label">Contraseña:</label>
          <div class="col-sm-6">
            <input type="password" class="form-control" id="Contrasena" formControlName="Contrasena" placeholder="Contraseña">
          </div>
        </div>
        <!-- <div class="form-group row m-2">
          <label for="rol" class="col-sm-5 col-form-label">Rol:</label>
          <div class="col-sm-6">
            <kendo-dropdownlist
            id="rol"
            formControlName="rol"
            [data]="listaRoles"
            textField="nombre"
            valueField="id"
            >
            </kendo-dropdownlist>
          </div>
        </div> -->
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button class="btn btn-danger" (click)="modal.close('Save click')">
      Cancelar
    </button>
    <button class="btn btn-success" *ngIf="!validar" (click)="guardar_elemento()">
      Guardar
    </button>
    <button class="btn btn-warning" *ngIf="validar" (click)="actualizar_elemento()">
      Editar
    </button>
  </div>
</ng-template>
